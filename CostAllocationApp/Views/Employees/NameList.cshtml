@model CostAllocationApp.ViewModels.EmployeeViewModel
@{ ViewBag.Title = "Name List / 名簿"; }

@section Styles {

    @* <link href="/Content/bootstrap-3.3.2.min.css" rel="stylesheet" type="text/css" /> *@
    @* <link href="/Content/bootstrap.min.css" rel="stylesheet" type="text/css" /> *@
    <link href="/Content/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
    @* <link href="/Content/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /> *@
    <link href="/Content/common.css" rel="stylesheet" type="text/css" />
    <link href="/Content/namelist_ver03.css" rel="stylesheet" type="text/css" />
    <link href="/Content/modal_registrations.css" rel="stylesheet" type="text/css" />  
    <link href="/Content/namelist-responsive.css" rel="stylesheet" type="text/css" /> 
}

<input type="hidden" id="hid_filter_name" name="hid_filter_name" value="" />
<input type="hidden" id="hid_filter_section" name="hid_filter_section" value="" />
<input type="hidden" id="hid_filter_company" name="hid_filter_company" value="" />
<input type="hidden" id="hid_filter_department" name="hid_filter_department" value="" />

@* <div class="container"> *@
<div class="container content container-fluid">
    <!--Registration buttons-->
    <div>
        <table>
            <thead>
                <tr class="master_setting_popup">
                    <th class="name_list_th name"><a class="" href="/Employees/Nameregistration" target="_blank">Name Reg.</a></th>
                    <th class="name_list_th section">
                        <a class="" href="javascript:void(0);" data-toggle="modal" data-target="#section_registration">Section Reg.</a>
                    </th>
                    <th class="name_list_th company">
                        <a href="javascript:void(0);" data-toggle="modal" data-target="#company_reg_modal">Company Reg.</a>
                    </th>
                    <th class="name_list_th department">
                        <a class="" id="department_modal_href" href="javascript:void(0);" data-toggle="modal" data-target="#department_registration">Dept Reg.</a>
                    </th>
                    @*<th class="name_list_th company">
                            <a class="" href="javascript:void(0);" data-toggle="modal" data-target="#company_reg_modal" style="margin-left:185px;">Com. Reg.</a>
                        </th>
                        <th class="name_list_th department">
                            <a class="" id="department_modal_href" href="javascript:void(0);" data-toggle="modal" data-target="#department_registration">Dept Reg.</a>
                        </th>*@
                </tr>
            </thead>
        </table>
    </div>

    <table id="namelist" class="cell-border" style="width:100%;display:none;">
        <thead>
            <tr id="namelist_table_header">
                <th style="text-align: center !important;">氏名(Name)</th>
                <th style="text-align: center !important;">区分(Section)</th>
                <th style="text-align: center !important;">会社(Company)</th>
                <th style="text-align: center !important;">企画/開発(Dept.)</th>
                <th style="text-align: center !important;">グレード (Grade)</th>
                <th style="text-align: center !important;">金額( Unit Price)</th>
                <th style="text-align: center !important;">Action</th>
            </tr>
            <tr>
                <th class="namelist_td name">氏名(Name)</th>
                <th class="namelist_td section">
                    <div class="form-group mb-0">
                        <div class="col-sm-10">
                            <select id="section_multi_search" name="multiselect[]" multiple="multiple"></select>
                        </div>
                    </div>
                </th>
                <th class="namelist_td company">
                    <div class="form-group mb-0">
                        <div class="col-sm-10">
                            <select id="company_multi_search" name="multiselect[]" multiple="multiple"></select>
                        </div>
                    </div>
                </th>
                <th class="namelist_td department">
                    <div class="form-group mb-0">
                        <div class="col-sm-10">
                            <select id="dept_multi_search" name="multiselect[]" multiple="multiple"></select>
                        </div>
                    </div>
                </th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </thead>

        <tbody class="namelist_listbody" id="employee_list_search_results"></tbody>
    </table>

    <div class="row">
        <div class="col-md-12">
            <div class="forecast">
                <div id="loading" style="position:absolute;left:0;top:-147px;  width:100%;height:100%;">
                    <center>
                        <img src="~/img/forecast_loader.gif" height="250" width="250" style="margin-top:200px;">
                        <br>
                        <strong>Please wait a moment...</strong>
                        <br>
                        <br>
                    </center>
                </div>
                <table class="" id="forecast_table">
                    <thead></thead>
                    <tbody></tbody>
                </table>
                <div class="add_name_tbl_2_btn">
                    <a href="javascript:void(0);" class="" id="cancel_forecast" onclick="onCancel()" style="display:none;">Cancel</a>
                    <a href="javascript:void(0);" class="" id="save_forecast" onclick="onSave(event)" style="display:none;">Save</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- NameList: Add Employee Assignment Modal -->
<div class="modal fade" id="modal_add_name" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    @* <div class="modal-dialog modal-xl"> *@
    <div class="modal-dialog"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add Name</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="col-12 modal-body">
            <table id="add_name_table_2">
                <thead>
                    <tr id="main_head">
                        <th>SL</th>
                        <th>Name</th>
                        <th>Sub Code</th>
                        <th>Memo</th>
                        <th>Section</th>
                        <th>Company</th>
                        <th>Department</th>
                        <th>Allocation</th>
                        <th>Grade</th>
                        <th>Unit Price</th>
                        <th>Action <input type="hidden" value="" id="fixed_hidden_name" /></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <div class="add_name_tbl_2_btn">
                <a href="javascript:void(0);" class="" id="add_name_cancel" data-dismiss="modal">Cancel</a>
                <a href="javascript:void(0);" class="" id="add_name_add" onclick="onSave()">Save</a>
            </div>
        </div>
    </div>
</div>
<input type="hidden" id="add_name_unit_price_hidden" />
<input type="hidden" id="add_name_row_no_hidden" />

<input type="hidden" id="multi_search_clicked_id" />
</div>

<!-- NameList: Edit Employee Assignment Modal -->
<div class="modal fade" id="modal_edit_name" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style="padding-right: 0px !important;">
    @* <div class="modal-dialog modal-xl"> *@
    <div class="modal-dialog"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Edit Info of <span id="edit_model_span"></span></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="col-12 modal-body">
            <table id="add_name_table_3">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Memo</th>
                        <th>Section</th>
                        <th>Company</th>
                        <th>Department</th>
                        @*<th>In-Charge</th>
                            <th>Role</th>
                            <th>Explanation</th>*@
                        <th>Grade</th>
                        <th>Year</th>
                        <th>Unit Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <input type="text" class="col-12" id="name_edit" value="Chandra Shekhar Das" placeholder="name" readonly>
                        </td>
                        <td>
                            <input type="text" class=" col-12" id="memo_edit" value="" placeholder="">
                        </td>
                        <td>
                            <input type="hidden" value="" id="row_id_hidden_edit" />
                            <select id="section_edit" class=" col-12"></select>
                        </td>
                        <td>
                            <select id="company_edit" class=" col-12"></select>
                        </td>
                        <td>
                            <select id="department_edit" class=" col-12"></select>
                        </td>

                        <td>
                            @*<input type="text" class=" col-12" id="grade_edit" placeholder="" readonly style="background-color: aliceblue;">*@
                            <select id="grade_edit" class=" col-12"></select>

                        </td>
                        <td>
                            <select id="year_edit" class=" col-12">
                                <option value="-1">Select Year</option>
                                <option value="2022">2022</option>
                            </select>
                        </td>
                        <td>
                            <input type="text" class=" col-12" id="unitprice_edit" placeholder="unit price">
                        </td>                        
                    </tr>
                </tbody>
            </table>
            <div class="add_name_tbl_3_btn">
                <a href="javascript:void(0);" class="" id="add_name_cancel" data-dismiss="modal">Cancel</a>
                <a href="javascript:void(0);" class="" id="add_name_edit">Save</a>
            </div>
        </div>
    </div>
    <input type="hidden" id="grade_edit_hidden" />
    <input type="hidden" id="hidGradeLowPoints" />
    <input type="hidden" id="grade_new_hidden" />
    <input type="hidden" id="hidGradePoints" />
    <input type="hidden" id="page_load_after_modal_close" />

</div>
</div>

<input type="hidden" id="hid_name" />
<input type="hidden" id="hid_memo" />
<input type="hidden" id="hid_sectionId" />
<input type="hidden" id="hid_departmentId" />
<input type="hidden" id="hid_inchargeId" />
<input type="hidden" id="hid_roleId" />
<input type="hidden" id="hid_explanationId" />
<input type="hidden" id="hid_companyId" />
<input type="hidden" id="hid_companyName" />
<input type="hidden" id="hid_grade" />
<input type="hidden" id="hid_gradeId" />
<input type="hidden" id="hid_unitPrice" />

<input type="hidden" id="hid_gradeIdWithSalaryType" />

<!-- NameList: Delete Employee Assignment Modal -->
<div class="modal custom-modal fade" id="namelist_delete" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <div class="form-header">
                    <h3>Inactivation</h3>
                    <p>Are you sure want to inactive?</p>
                </div>
                <div class="modal-btn delete-action">
                    <div class="row">
                        <div class="col-6">
                            <input type="hidden" id="namelist_inactive_rowid" value="" />
                            <a href="javascript:void(0);" data-dismiss="modal" class="btn btn-primary cancel-btn">Cancel</a>
                        </div>
                        <div class="col-6">
                            <a href="javascript:void(0);" class="btn btn-primary continue-btn" id="namelist_inactive">Inactive</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@Html.Partial("_Modals")

@section Scripts{
    @* <script src="/Scripts/jquery-3.5.1.js"></script> *@
    @* <script src="/Scripts/dataTables.fixedHeader.min.js"></script> *@
    @* <script src="/Scripts/common.js"></script>
        <script src="/Scripts/namelist.js"></script>
        <script src="/Scripts/modal_registrations.js"></script> *@
    <script src="/Scripts/bootstrap-3.3.2.min.js"></script>
    @* <script src="/Scripts/bootstrap-3.3.2.min.js"></script>
        <script src="/Scripts/prettify.min.js"></script>
        <script src="/Scripts/lodash.min.js"></script> *@
    <script src="/Scripts/common.js"></script>
    <script src="/Scripts/namelist_ver03.js"></script>
    <script src="/Scripts/namelist_modal_registrations.js"></script>
    <script src="/Scripts/bootstrap-multiselect.js"></script>
}